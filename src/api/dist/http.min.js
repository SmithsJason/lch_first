"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _axios=_interopRequireDefault(require("axios")),_elementPlus=require("element-plus");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var http=_axios.default.create({baseURL:"http://localhost:8080/api",timeout:1e4,headers:{"Content-Type":"application/json;charset=utf-8"}});http.interceptors.request.use(function(e){return useUserStore().token&&(e.headers.authorization="".concat(useUserStore().token)),e},function(e){return Promise.reject(e)}),http.interceptors.response.use(function(e){return e.data},function(e){if(e.response)switch(e.response.status){case 401:break;default:_elementPlus.ElMessage.error(e.response.data.message||"服务器错误")}return Promise.reject(e)});var _default=http;exports.default=_default;
//# sourceMappingURL=http.min.js.map
