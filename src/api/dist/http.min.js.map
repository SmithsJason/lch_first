{"version":3,"sources":["http.js"],"names":["_axios","_interopRequireDefault","require","_elementPlus","http","axios","create","baseURL","timeout","headers","Content-Type","interceptors","request","use","config","useUserStore","token","error","Promise","reject","response","data","status","message"],"mappings":"2FAAA,IAAAA,OAAAC,uBAAAC,QAAA,UACAC,aAAAD,QAAA,wFAEA,IAAME,KAAOC,OAAAA,QAAMC,OAAO,CACxBC,QAAS,4BACTC,QAAS,IACTC,QAAS,CANXC,eAAA,oCAWAN,KAAKO,aAAaC,QAAQC,IACxB,SAACC,GANDL,OAHQM,eAAGV,QACXE,EAASE,QAATF,cAAAA,GAAAA,OADwBQ,eAAAC,QAGfF,GAAA,SAAAG,GAHX,OAAAC,QAAAC,OAAAF,KAWMH,KAAAA,aAAAM,SAAeP,IAChB,SAAAO,GAUD,OAAOA,EAASC,MAdpB,SAOEJ,GACE,GAAAA,EAAOC,SARX,OAAAD,EAAAG,SAAAE,QAYKX,KAAAA,IAEMS,MAET,QACMH,aAAAA,UAAJA,MAAoBA,EAAAG,SAAAC,KAAAE,SAAA,SAGd,OAAAL,QAAAC,OAAAF,kBASKb","file":"http.min.js","sourcesContent":["import axios from 'axios'\r\nimport { ElMessage} from 'element-plus'\r\n\r\nconst http = axios.create({\r\n  baseURL: 'http://localhost:8080/api',\r\n  timeout: 10000,\r\n  headers: {\r\n    \"Content-Type\": \"application/json;charset=utf-8\",\r\n  },\r\n})\r\n\r\nhttp.interceptors.request.use(\r\n  (config) => {\r\n    if (useUserStore().token) {\r\n      config.headers['authorization'] = `${useUserStore().token}`; \r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nhttp.interceptors.response.use(\r\n  (response) => {\r\n    return response.data\r\n  },\r\n  (error) => {\r\n    if (error.response) {\r\n      switch (error.response.status) {\r\n        case 401:\r\n          break;\r\n        default:\r\n          ElMessage.error(error.response.data.message || '服务器错误')\r\n      }\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default http\r\n"]}